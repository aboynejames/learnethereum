<!doctype>
<html>

<head>
<script src='js/jquery-2.0.3.min.js'></script>
<script type="text/javascript" src="js/web3.min.js"></script>
<script src='js/bignumber.js'></script>


  <!--<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js">-->

/*
*  Listen to ethereum client
*
*  download geth
*
*  or simulate blockchain via https://github.com/ethereumjs/testrpc

*
*/

</head>

<body>

  <div class="header">
    <h3>JavaScript API</h3>
  </div>

  <div class="jumbotron">
    <h5>Coinbase Address: <strong id="coinbase"></strong></h5>
    <h5>Balance: <strong id="balance"></strong></h5>
    <h5>Latest Block Number: <strong id="latestBlock"></strong></h5>
    <h5>Latest Block Timestamp: <strong id="latestBlockTimestamp"></strong></h5>
    <h5>Latest Block Hash: <strong id="latestBlockHash"></strong></h5>
    <h5>Contract String: <strong id="contractString"></strong></h5>
    <h5>Favourite Python: <strong id="favouritePython"></strong></h5>
    <h5>MINING STATUS: <strong id="mining-status"></strong></h5>
    <h5>GAS PRICE: <strong id="gas-price"></strong></h5>
    <br>
  </div>

  <script type="text/javascript">
  $(document).ready(function(){

   	var web3 = require('web3');
  //console.log(web3);
  	web3.setProvider(new web3.providers.HttpProvider("http://localhost:8545"));
   //console.log(web3);

  	 var version = web3.version.api;
  console.log(version);

  	var versionc = web3.version.client;
  console.log(versionc);

  	var numbercc = web3.eth.getCompilers();
  console.log(numbercc);
  var str = web3.sha3("Some ASCII string to be hashed");
  console.log(str); // "0x536f6d6520415343494920737472696e6720746f20626520686173686564"

  	var hash = web3.sha3(str);
  console.log(hash); // "0xb21dbc7a5eb6042d91f8f584af266f1a512ac89520f43562c6c1e37eab6eb0c4"

  	var listening = web3.net.listening;
  console.log(listening);

  	var peerCount = web3.net.peerCount;
  console.log(peerCount);

//  	web3.eth.defaultAccount = '52bddcd1897e2b7516b2218e69fda38c017c29b9';
  	web3.eth.defaultAccount = '051575d44d13cf3c3f47bf110c1fdf12e3e38cb0';
  	var defaultAccounta = web3.eth.defaultAccount;
    $("#coinbase").text(defaultAccounta);
  console.log(defaultAccounta)

  	var defaultBlock = web3.eth.defaultBlock;
  console.log(defaultBlock); // 'latest'

  	var coinbase = web3.eth.coinbase;
  console.log(coinbase); // ""

  	var mining = web3.eth.mining;
  console.log(mining);
  console.log('MINING');
    $("#mining-status").text(mining);
  	var hashrate = web3.eth.hashrate;
  console.log(hashrate); // 493736

  	var gasPrice = web3.eth.gasPrice;
  console.log(gasPrice.toString(10));
    $("#gas-price").text(gasPrice);

  	var accounts = web3.eth.accounts;
  console.log(accounts);

  	var balance = web3.eth.getBalance("52bddcd1897e2b7516b2218e69fda38c017c29b9");
    var formatbalance = balance.toString(10);
    $("#balance").text(formatbalance);
  console.log(balance); // instanceof BigNumber
  console.log(balance.toString(10)); // '1000000000000'
  console.log(balance.toNumber()); // 1000000000000

  var balether =web3.fromWei(web3.eth.getBalance(web3.eth.accounts[0]), "ether")
console.log(balether + 'ether in account');
    $("#balance").text(balether);

  	var numberb = web3.eth.blockNumber;
  console.log(numberb);
    $("#latestBlock").text(numberb);

  	var blockDetails = web3.eth.getBlock(numberb);
  console.log(blockDetails);
    $("#latestBlockTimestamp").text(blockDetails.timestamp);
    $("#latestBlockHash").text(blockDetails.hash);

/*
  	var storageObject = web3.eth.getStorageAt("0xb908c8a904dfa0a4294c16c0189318557cc788a6");
  console.log(storageObject);
  	var numberso= web3.toDecimal(storageObject);
  console.log(numberso);

  //var code = web3.eth.getCode("0xb908c8a904dfa0a4294c16c0189318557cc788a6");
  //console.log(code);

  //	var info = web3.eth.getBlock(1028201);
  //console.log(info);

  	var number = web3.eth.getBlockTransactionCount("0x22f56013e82ea2d1e1809aea6d5cce058847e4ae52b84255c3e6963a84bc762c");
  console.log(number); // 1

  	var blockNumber = 48;
  	var indexOfTransaction = 0

*/

  });

  </script>

</body>

</html>
